

<!--RESOURCES
Bootstrap Pricing Table: https://frontendor.com/blog/bootstrap-pricing-table-snippets/
Bootstrap Register Form: https://getbootstrap.com/docs/5.3/forms/layout/#forms
FAQs Accordion: https://www.freecodecamp.org/news/build-an-accordion-menu-using-html-css-and-javascript/
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wheelie Wash Checkout</title>
    <meta name="description" content="Wheelie Wash Subscription & Stripe Checkout" />
    <link rel="icon" href="/stripe/img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/stripe/css/normalize.css" />
    <link rel="stylesheet" href="/stripe/css/global2.css" />
    <!--
    NOTE: importing bootstrap changes the width of the plan containers, oddly with 
    the first container being slightly wider than the rest.
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    -->
    <link rel="preconnect" href="https://rsms.me/">  <!--Inter Font-->
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">  <!--Inter Font-->
    
    <!--Leaflet Map API-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <!--END of Leaflet Map API-->
    <!--Bootstrap WTF-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="background">
        <header class="header">
            <div class="header__logo"></div>
            <div class="header__features">
                <p>Fresh Bins, Happy Home!</p>
                <p>Eco-Friendly Cleaning: Wash, Sanitise, Deodorise. No Residue.</p>
            </div>
            <div class="container">
              <div class="panel pricing-table">
                <h1>Serviced Areas For Subscription Customers Only</h1>
                <hr>
                  <div class="serviced-areas">
                    Note: Serviced areas apply to subscription customers only. For commercial and one-off cleans, areas not highlighted below can still be serviced.
                  </div>
                </hr>
                <div id="map"></div>
                <script src="/stripe/js/loadMap.js"></script>
              </div>  
            </div>    
            <div class="header__title">Choose a plan</div>
        </header>
        <form>
          <div class="container">
            <div class="panel pricing-table">
              <div class="pricing-plan">
                <img src="/stripe/img/gold.png" alt="" class="pricing-img">
                      <h2 class="pricing-header">Gold Subscription</h2>
                      <ul class="pricing-features">
                        <div class="container.description">
                          <li class="pricing-features-item">3 Bins Cleaned Monthly</li>
                          <li class="pricing-features-item">Plus 1 Free FOGO Bin Each Clean Cycle</li>
                          <li class="pricing-features-item">No Transaction Fee</li>
                        </div>
                      </ul>
                      <span class="pricing-price">$36</span>
                      <div class="billing-frequency">Billed every 6 months</div>
                      <a href="#register-form" class="pricing-button is-featured">Register Interest</a>
              </div>
          </div>
        </form>
        <form>
              <div class="container">
                  <div class="panel pricing-table">
                      <div class="pricing-plan">
                      <img src="/stripe/img/silver.png" alt="" class="pricing-img">
                      <h2 class="pricing-header">Silver Subscription</h2>
                      <ul class="pricing-features">
                        <div class="container.description">
                          <li class="pricing-features-item">3 Bins Cleaned Quarterly</li>
                          <li class="pricing-features-item">Plus 1 Free FOGO Bin Each Clean Cycle</li>
                        </div>
                      </ul>
                      <span class="pricing-price silver">$46</span>            
                      <div class="billing-frequency">Billed Annually</div>
                      <a href="#register-form" class="pricing-button">Register Interest</a>
                  </div>
              </div>
        </form>      
        <form>
            <div class="container">
                <div class="panel pricing-table">
                    <div class="pricing-plan">
                        <img src="/stripe/img/bronze.png" alt="" class="pricing-img">
                        <h2 class="pricing-header">Bronze Subscription</h2>
                        <ul class="pricing-features">
                          <div class="container.description">
                            <li class="pricing-features-item">Clean 1 to 4 bins</li>
                            <li class="pricing-features-item">Cancel Anytime</li>
                          </div>
                        </ul>
                        <span class="pricing-price starts-at">$18</span>
                        <div class="billing-frequency">Billed Monthly</div>
                        <a href="#register-form" class="pricing-button">Register Interest</a>
                    </div>
                </div>
            </div>
        </form>

        </div>

        <form>
          <div class="container">
            <div class="panel pricing-table">
              <div class="pricing-plan">
                <img src="/stripe/img/one-off.png" alt="" class="pricing-img">
                <h2 class="pricing-header">One-Off</h2>
                <ul class="pricing-features">
                  <div class="container.description">
                    <li class="pricing-features-item">One-off clean outside serviced area</li>
                    <li class="pricing-features-item">General Cleans</li>
                    <li class="pricing-features-item">Vacate</li>
                  </div>  
                </ul>
                <span class="pricing-price one-off starts-at">$33</span>
                <div class="billing-frequency">One-off payment</div>
                <!--  href="#/", it might be part of a JavaScript-based routing system
                  in a single-page application (SPA). In such applications, changes in
                  the part of the URL after the # are used to dynamically load different 
                  content without refreshing the page.-->
                  <a href="#register-form" class="pricing-button">Register Interest</a>
              </div>
            </div>
          </div>
        </form>

          <form>
            <div class="container">
              <div class="panel pricing-table">
                <div class="pricing-plan">
                  <img src="/stripe/img/one-off.png" alt="" class="pricing-img">
                  <h2 class="pricing-header">Commercial Cleans</h2>
                  <ul class="pricing-features">
                    <div class="container.description">
                      <li class="pricing-features-item">Customised Cleaning Schedule</li>
                      <li class="pricing-features-item">One-off Deep Cleans</li>
                      <li class="pricing-features-item">Prevent Odours and Pest Infestations</li>
                      <li class="pricing-features-item">Ensure Compliance with Health Standards</li>
                      <li class="pricing-features-item">Cleaning of Small to Large Commercial Waste Bins</li>
                    </div>  
                  </ul>
                  <span class="pricing-price one-off from">$10</span>
                  <!--  href="#/", it might be part of a JavaScript-based routing system
                    in a single-page application (SPA). In such applications, changes in
                    the part of the URL after the # are used to dynamically load different 
                    content without refreshing the page.-->
                    <a href="#register-form" class="pricing-button">Register Interest</a>
                </div>
              </div>
            </div>
          </form>
                <!-- ============== Register Interest Form ============== -->
        <div class="container">
          <a id="register-form"></a> <!-- Invisible Anchor Point -->
            <div class="panel pricing-table">
                <div class="accordion-body">
                    <div class="accordion">
                      <h1>Register Your Interest Below</h1>
                        
                            {% import "bootstrap/wtf.html" as wtf %}
                            {% block content %}
                            <!-- Flash message container-->
                              <div id="flash-messages">
                                {% with messages = get_flashed_messages(with_categories=true) %}
                                  {% if messages %}
                                    {% for category, message in messages %}
                                      <div class="alert alert-{{ category }}">{{ message }}</div>
                                    {% endfor %}
                                  {% endif %}
                                {% endwith %}
                              </div>
                              
                             <!-- Form or success message-->
                              {% if name %}
                                <div class="content success-message">
                                  Thank you for registering your interest {{ name }}. We will be in touch soon!
                                </div>
                              {% else %}
                                <div class="form-text">
                                  <div id="register-form-container">
                                    <!--BOOTSTRAP STYLING
                                        Resources: https://getbootstrap.com/docs/5.3/forms/layout/#gutters -->
                                    <form class="row g-3" id="interestForm" method="POST" action="{{ url_for('main.get_sub_page') }}">
                                        {{ form.hidden_tag() }}
                                        <!-- m-3 adds bottom margin 1rem/16px -->
                                        <div class="col-md-6 mb-3">  
                                          {{ form.email.label(class="form-label") }}
                                          {{ form.email(class="form-control") }}
                                        </div>
                                        <div class="col-md-6 mb-3">
                                          {{ form.mobile.label(class="form-label") }}
                                          {{ form.mobile(class="form-control") }}
                                        </div>
                                        <div class="col-12 mb-3">
                                          {{ form.name.label(class="form-label") }}
                                          {{ form.name(class="form-control") }}
                                        </div>
                                        <div class="col-12 mb-3">
                                          {{ form.street.label(class="form-label") }}
                                          {{ form.street(class="form-control") }}
                                        </div>
                                        <div class="col-md-6 mb-3">
                                          {{ form.city.label(class="form-label") }}
                                          {{ form.city(class="form-control") }} 
                                        </div>
                                        <div class="col-md-6 mb-3">
                                          {{ form.postcode.label(class="form-label") }}
                                          {{ form.postcode(class="form-control") }}
                                        </div>
                                        <div class="col-12 mb-3">      
                                          {{ form.service.label(class="form-label") }}
                                          {{ form.service(class="form-select") }}    
                                        </div>
                                    </form>
                                    {{ form.submit(class="pricing-button is-featured") }}

                                </div>    
                              {% endif %}
                              {% endblock %}
                              <br/>
                          </div>
                        
                      </div>
                      <hr>
                          </div>
                        
                              <a href="#anchor-gold" class="pricing-button"> Choose a plan </a><br />
     
                    </div>

            </div>
            <p>Got any questions? Email us at info@wheeliewash.au</p>
        </div>
        
    <div id="error-message" class="error-message"></div>
    <!-- If Flask debug=True (export FLASK_CONFIG=development to set debug True) -->
    <!-- Resource: https://realpython.com/flask-javascript-frontend-for-rest-api/#step-2-build-the-front-end-components -->
    {% if config['DEBUG'] %}
      {% include "/stripe/_debug.html" %}
    {% endif %}
    <script src="stripe/js/forms.js"></script>
  </body>  
</html>